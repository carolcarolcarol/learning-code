<script>
    let promise2 =new Promise((resolve,reject)=>{
            setTimeout(()=>{
                resolve(1)
            },3000)
        })
        let promise3 = new Promise((resolve,reject)=>{
            
            setTimeout(()=>{
                resolve(2)
            },3000)
           
        })

    Promise.myAll = function(promiseArr){
        return new Promise((resolve,reject)=>{
            let total = 0;
        // 成功的个数
            let res = [];
            // let i = 0;
            promiseArr.forEach((pro,i) => {
                pro.then((r)=>{
                res[i]=r;
                total++;
                if(total === promiseArr.length){
                    // 为什么是加在这里而不是for外面？异步的？
                    // 此时所有的promise都成功了
                    resolve(res)
                }
            
                })
            // 结果的组合是有顺序的，比如promise.all(promise1,promise2)，要按promise1,promise2的顺序
            // 但是then是异步的，怎样保证按参数的状态输出？
        
       
        .catch(reject)
            });
        })
        }
    

        
Promise.myAll([promise2,promise3])
.then(console.log)
</script>